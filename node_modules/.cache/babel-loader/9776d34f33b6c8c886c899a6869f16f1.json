{"ast":null,"code":"import _classCallCheck from \"/Users/amitkamboj/Desktop/canvas/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/amitkamboj/Desktop/canvas/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/amitkamboj/Desktop/canvas/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/amitkamboj/Desktop/canvas/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/amitkamboj/Desktop/canvas/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/amitkamboj/Desktop/canvas/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/amitkamboj/Desktop/canvas/src/Search_results.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nexport var Search_results =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search_results, _Component);\n\n  function Search_results(props) {\n    var _this;\n\n    _classCallCheck(this, Search_results);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search_results).call(this, props));\n\n    _this.enroll = function (e) {\n      var course_id = e.target.value;\n      var data = {\n        course_id: course_id\n      };\n      axios.post('http://localhost:3001/enroll', data, {\n        headers: {\n          'Authorization': localStorage.getItem('token')\n        }\n      }).then(function (response) {\n        if (response.status === 200) {\n          _this.setState({\n            authFlag: true\n          });\n\n          alert(response.data);\n        } else {\n          _this.setState({\n            authFlag: false\n          });\n        }\n      });\n    };\n\n    _this.waitlist = function (e) {\n      var course_id = e.target.value;\n      var data = {\n        course_id: course_id\n      };\n      axios.post('http://localhost:3001/waitlist', data).then(function (response) {\n        if (response.status === 200) {\n          _this.setState({\n            authFlag: true\n          });\n\n          alert(response.data);\n        } else {\n          _this.setState({\n            authFlag: false\n          });\n        }\n      });\n    };\n\n    console.log(props);\n    _this.enroll = _this.enroll.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.waitlist = _this.waitlist.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Search_results, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var courseResult = null;\n\n      if (this.props.courses != null) {\n        courseResult = this.props.courses.map(function (course) {\n          if (course.space_left != 0) {\n            var button_type = React.createElement(\"button\", {\n              class: \"btn btn-primary\",\n              onClick: _this2.enroll,\n              value: course.course_id,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 81\n              },\n              __self: this\n            }, \"Enroll\");\n          } else {\n            if (course.in_waitlist === course.waitlist_capacity) {\n              var button_type = React.createElement(\"button\", {\n                class: \"btn btn-danger\",\n                value: course.course_id,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 85\n                },\n                __self: this\n              }, \"No space\");\n            } else {\n              var button_type = React.createElement(\"button\", {\n                class: \"btn btn-warning\",\n                onClick: _this2.waitlist,\n                value: course.course_id,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 89\n                },\n                __self: this\n              }, \"Waitlist\");\n            }\n          }\n\n          return React.createElement(\"tr\", {\n            key: course.course_id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          }, course.course_id), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99\n            },\n            __self: this\n          }, course.course_name), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, course.course_description), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101\n            },\n            __self: this\n          }, course.course_room), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102\n            },\n            __self: this\n          }, course.course_capacity), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103\n            },\n            __self: this\n          }, course.waitlist_capacity), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 104\n            },\n            __self: this\n          }, course.course_term), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105\n            },\n            __self: this\n          }, course.in_waitlist), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106\n            },\n            __self: this\n          }, course.space_left), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107\n            },\n            __self: this\n          }, course.created_by), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          }, button_type));\n        });\n      }\n\n      return React.createElement(\"table\", {\n        class: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Course ID\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Description\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Room\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Course Capacity\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Waitlist Capacity\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Term\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"In waitlist\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Seats left\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Created by\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, courseResult));\n    }\n  }]);\n\n  return Search_results;\n}(Component);","map":{"version":3,"sources":["/Users/amitkamboj/Desktop/canvas/src/Search_results.js"],"names":["React","Component","axios","Search_results","props","enroll","e","course_id","target","value","data","post","headers","localStorage","getItem","then","response","status","setState","authFlag","alert","waitlist","console","log","bind","courseResult","courses","map","course","space_left","button_type","in_waitlist","waitlist_capacity","course_name","course_description","course_room","course_capacity","course_term","created_by"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nexport class Search_results extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(props);\r\n   \r\n        this.enroll=this.enroll.bind(this);\r\n        this.waitlist=this.waitlist.bind(this);\r\n    }\r\n\r\n\r\n    enroll=(e)=>{\r\n\r\n\r\n        const course_id = e.target.value;\r\n       \r\nconst data={\r\n   \r\n    course_id:course_id\r\n}\r\n\r\naxios.post('http://localhost:3001/enroll',data,{headers: {'Authorization': localStorage.getItem('token')}})\r\n.then(response => {\r\n    if(response.status === 200){\r\n        this.setState({\r\n            authFlag : true\r\n        })\r\n        alert(response.data);\r\n    }else{\r\n        this.setState({\r\n            authFlag : false\r\n        })\r\n    }\r\n\r\n});\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nwaitlist=(e)=>{\r\n\r\n\r\n    const course_id = e.target.value;\r\n   \r\nconst data={\r\n\r\ncourse_id:course_id\r\n}\r\n\r\naxios.post('http://localhost:3001/waitlist',data)\r\n.then(response => {\r\nif(response.status === 200){\r\n    this.setState({\r\n        authFlag : true\r\n    })\r\n    alert(response.data);\r\n}else{\r\n    this.setState({\r\n        authFlag : false\r\n    })\r\n}\r\n\r\n});\r\n\r\n}\r\n\r\n\r\n    render() {\r\n\r\n        var courseResult = null;\r\n\r\n        if (this.props.courses != null) {\r\n            courseResult = this.props.courses.map(course => {\r\n                if(course.space_left!=0)\r\n                {\r\n                        var button_type=<button class=\"btn btn-primary\" onClick={this.enroll} value={course.course_id}>Enroll</button>;\r\n                }else{\r\n\r\n                    if(course.in_waitlist===course.waitlist_capacity)\r\n                    {   var button_type=<button class=\"btn btn-danger\"  value={course.course_id}>No space</button>;\r\n              \r\n\r\n                    }else{\r\n                        var button_type=<button class=\"btn btn-warning\" onClick={this.waitlist} value={course.course_id}>Waitlist</button>;\r\n              \r\n                    }\r\n\r\n                 \r\n                }\r\n                return (\r\n                    <tr   key={course.course_id}>\r\n                     \r\n                            <td>{course.course_id}</td>\r\n                            <td>{course.course_name}</td>\r\n                            <td>{course.course_description}</td>\r\n                            <td>{course.course_room}</td>\r\n                            <td>{course.course_capacity}</td>\r\n                            <td>{course.waitlist_capacity}</td>\r\n                            <td>{course.course_term}</td>\r\n                            <td>{course.in_waitlist}</td>\r\n                            <td>{course.space_left}</td>\r\n                            <td>{course.created_by}</td>\r\n                            <td>{button_type}</td>\r\n                        </tr>\r\n                  \r\n                )\r\n            })\r\n        }\r\n\r\n        return (\r\n\r\n                      <table class=\"table\">\r\n                      <thead>\r\n                          <tr>\r\n                              <th>Course ID</th>\r\n                              <th>Name</th>\r\n                              <th>Description</th>\r\n                              <th>Room</th>\r\n                              <th>Course Capacity</th>\r\n                              <th>Waitlist Capacity</th>\r\n                              <th>Term</th>\r\n                              <th>In waitlist</th>\r\n                              <th>Seats left</th>\r\n                              <th>Created by</th>\r\n                          </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                          {/*Display the Tbale row based on data recieved*/}\r\n                          {courseResult}\r\n                      </tbody>\r\n                  </table>\r\n\r\n\r\n\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}