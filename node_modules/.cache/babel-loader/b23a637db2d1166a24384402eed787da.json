{"ast":null,"code":"import _classCallCheck from \"/Users/amitkamboj/Desktop/canvas/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/amitkamboj/Desktop/canvas/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/amitkamboj/Desktop/canvas/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/amitkamboj/Desktop/canvas/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/amitkamboj/Desktop/canvas/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/amitkamboj/Desktop/canvas/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/amitkamboj/Desktop/canvas/src/Signup.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\nimport { Navbar } from './Navbar';\nimport { Link } from 'react-router-dom';\nimport './index.css';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { authUser } from './actions/index';\nimport { bindActionCreators } from '../../../AppData/Local/Microsoft/TypeScript/3.3/node_modules/redux';\n\nvar Signup =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Signup, _Component);\n\n  //call the constructor method\n  function Signup(props) {\n    var _this;\n\n    _classCallCheck(this, Signup);\n\n    //Call the constrictor of Super class i.e The Component\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Signup).call(this, props)); //maintain the state required for this component\n\n    _this.usernameChangeHandler = function (e) {\n      _this.setState({\n        username: e.target.value\n      });\n    };\n\n    _this.passwordChangeHandler = function (e) {\n      _this.setState({\n        password: e.target.value\n      });\n    };\n\n    _this.usertypeChangeHandler = function (e) {\n      _this.setState({\n        user_type: e.target.value\n      });\n    };\n\n    _this.submitSignup = function (e) {\n      var headers = new Headers(); //prevent page from refresh\n\n      e.preventDefault();\n      var data = {\n        username: _this.state.username,\n        password: _this.state.password,\n        user_type: _this.state.user_type //set the with credentials to true\n\n      };\n      axios.defaults.withCredentials = true; //make a post request with the user data\n\n      axios.post('http://localhost:3001/signup', data).then(function (response) {\n        console.log(\"Status Code : \", response.status);\n\n        if (response.status === 200) {\n          _this.props.authUser(response.data);\n\n          _this.setState({\n            authFlag: true,\n            error_message: \"username already taken\"\n          });\n        } else {\n          _this.setState({\n            authFlag: false\n          });\n        }\n      });\n    };\n\n    _this.state = {\n      username: \"\",\n      password: \"\",\n      user_type: \"\",\n      authFlag: false,\n      error_message: \"\" //Bind the handlers to this class\n\n    };\n    _this.usernameChangeHandler = _this.usernameChangeHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.passwordChangeHandler = _this.passwordChangeHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.usertypeChangeHandler = _this.usertypeChangeHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.submitSignup = _this.submitSignup.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  } //username change handler to update state variable with the text entered by the user\n\n\n  _createClass(Signup, [{\n    key: \"render\",\n    value: function render() {\n      //redirect based on successful login\n      var redirectVar = null;\n\n      if (cookie.load('username')) {\n        redirectVar = React.createElement(Redirect, {\n          to: \"/dashboard\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, redirectVar, React.createElement(\"div\", {\n        class: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"login-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        class: \"center\",\n        src: \"http://localhost:3000/images/logo.png\",\n        alt: \"sorry, no display\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(\"h6\", {\n        class: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Sign Up\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.usernameChangeHandler,\n        type: \"text\",\n        class: \"form-control\",\n        name: \"Username\",\n        placeholder: \"Username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.passwordChangeHandler,\n        type: \"password\",\n        class: \"form-control\",\n        name: \"password\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"gender\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"User type: \")), \"\\xA0\\xA0\\xA0\", React.createElement(\"label\", {\n        class: \"radio-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        name: \"user_type\",\n        onChange: this.usertypeChangeHandler,\n        value: \"faculty\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), \" Faculty\\xA0\\xA0\\xA0\"), React.createElement(\"label\", {\n        class: \"radio-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        name: \"user_type\",\n        onChange: this.usertypeChangeHandler,\n        value: \"student\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), \" Student\")), React.createElement(\"button\", {\n        onClick: this.submitSignup,\n        class: \"btn btn-primary full\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Sign up\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), \"   \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        class: \"error_message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, this.state.error_message), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Already have an account? Login here\"))), React.createElement(\"div\", {\n        class: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Signup;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    authUser: authUser\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Signup);","map":{"version":3,"sources":["/Users/amitkamboj/Desktop/canvas/src/Signup.js"],"names":["React","Component","cookie","Redirect","Navbar","Link","axios","connect","authUser","bindActionCreators","Signup","props","usernameChangeHandler","e","setState","username","target","value","passwordChangeHandler","password","usertypeChangeHandler","user_type","submitSignup","headers","Headers","preventDefault","data","state","defaults","withCredentials","post","then","response","console","log","status","authFlag","error_message","bind","redirectVar","load","mapStateToProps","auth","mapDispatchToProps","dispatch"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,kCAAP;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,SAAQC,QAAR,QAAuB,cAAvB;AACA,SAAQC,MAAR,QAAqB,UAArB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAO,aAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,QAAR,QAAuB,iBAAvB;AACA,SAASC,kBAAT,QAAmC,oEAAnC;;IAGOC,M;;;;;AACH;AACA,kBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB;AACA,gFAAMA,KAAN,GAFgB,CAGhB;;AAHgB,UAqBlBC,qBArBkB,GAqBM,UAACC,CAAD,EAAO;AAC7B,YAAKC,QAAL,CAAc;AACVC,QAAAA,QAAQ,EAAGF,CAAC,CAACG,MAAF,CAASC;AADV,OAAd;AAGH,KAzBmB;;AAAA,UA2BpBC,qBA3BoB,GA2BI,UAACL,CAAD,EAAO;AAC3B,YAAKC,QAAL,CAAc;AACVK,QAAAA,QAAQ,EAAGN,CAAC,CAACG,MAAF,CAASC;AADV,OAAd;AAGH,KA/BmB;;AAAA,UAkCtBG,qBAlCsB,GAkCE,UAACP,CAAD,EAAO;AAC7B,YAAKC,QAAL,CAAc;AACVO,QAAAA,SAAS,EAAGR,CAAC,CAACG,MAAF,CAASC;AADX,OAAd;AAGD,KAtCqB;;AAAA,UAwCtBK,YAxCsB,GAwCP,UAACT,CAAD,EAAO;AACpB,UAAIU,OAAO,GAAG,IAAIC,OAAJ,EAAd,CADoB,CAEpB;;AACAX,MAAAA,CAAC,CAACY,cAAF;AACA,UAAMC,IAAI,GAAG;AACTX,QAAAA,QAAQ,EAAG,MAAKY,KAAL,CAAWZ,QADb;AAETI,QAAAA,QAAQ,EAAG,MAAKQ,KAAL,CAAWR,QAFb;AAGTE,QAAAA,SAAS,EAAG,MAAKM,KAAL,CAAWN,SAHd,CAKb;;AALa,OAAb;AAMAf,MAAAA,KAAK,CAACsB,QAAN,CAAeC,eAAf,GAAiC,IAAjC,CAVoB,CAWpB;;AACAvB,MAAAA,KAAK,CAACwB,IAAN,CAAW,8BAAX,EAA0CJ,IAA1C,EACKK,IADL,CACU,UAAAC,QAAQ,EAAI;AAEdC,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA6BF,QAAQ,CAACG,MAAtC;;AACA,YAAGH,QAAQ,CAACG,MAAT,KAAoB,GAAvB,EAA2B;AACzB,gBAAKxB,KAAL,CAAWH,QAAX,CAAoBwB,QAAQ,CAACN,IAA7B;;AACE,gBAAKZ,QAAL,CAAc;AACVsB,YAAAA,QAAQ,EAAG,IADD;AAEZC,YAAAA,aAAa,EAAC;AAFF,WAAd;AAIH,SAND,MAMK;AACD,gBAAKvB,QAAL,CAAc;AACVsB,YAAAA,QAAQ,EAAG;AADD,WAAd;AAGH;AACJ,OAfL;AAgBD,KApEqB;;AAIhB,UAAKT,KAAL,GAAa;AACTZ,MAAAA,QAAQ,EAAG,EADF;AAETI,MAAAA,QAAQ,EAAG,EAFF;AAGTE,MAAAA,SAAS,EAAC,EAHD;AAITe,MAAAA,QAAQ,EAAG,KAJF;AAKTC,MAAAA,aAAa,EAAC,EALL,CAOb;;AAPa,KAAb;AAQA,UAAKzB,qBAAL,GAA6B,MAAKA,qBAAL,CAA2B0B,IAA3B,uDAA7B;AACA,UAAKpB,qBAAL,GAA6B,MAAKA,qBAAL,CAA2BoB,IAA3B,uDAA7B;AACA,UAAKlB,qBAAL,GAA6B,MAAKA,qBAAL,CAA2BkB,IAA3B,uDAA7B;AAEA,UAAKhB,YAAL,GAAoB,MAAKA,YAAL,CAAkBgB,IAAlB,uDAApB;AAhBgB;AAiBnB,G,CAGC;;;;;6BAoDO;AACM;AACA,UAAIC,WAAW,GAAG,IAAlB;;AACA,UAAGrC,MAAM,CAACsC,IAAP,CAAY,UAAZ,CAAH,EAA2B;AACvBD,QAAAA,WAAW,GAAG,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAE,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAd;AACH;;AACd,aAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACCA,WADD,EAEJ;AAAK,QAAA,KAAK,EAAC,iBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA;AAAK,QAAA,KAAK,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,EAGI;AAAK,QAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,EAEU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFV,EAGU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHV,EAIN;AAAK,QAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEkB;AAAK,QAAA,KAAK,EAAC,QAAX;AAAoB,QAAA,GAAG,EAAC,uCAAxB;AAAgE,QAAA,GAAG,EAAC,mBAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFlB,EAG0C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAH1C,EAKkC;AAAI,QAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBALlC,EAMkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANlC,EAOoB;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACQ;AAAO,QAAA,QAAQ,EAAI,KAAK3B,qBAAxB;AAA+C,QAAA,IAAI,EAAC,MAApD;AAA2D,QAAA,KAAK,EAAC,cAAjE;AAAgF,QAAA,IAAI,EAAC,UAArF;AAAgG,QAAA,WAAW,EAAC,UAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADR,CAPpB,EAWoB;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACQ;AAAO,QAAA,QAAQ,EAAI,KAAKM,qBAAxB;AAA+C,QAAA,IAAI,EAAC,UAApD;AAA+D,QAAA,KAAK,EAAC,cAArE;AAAoF,QAAA,IAAI,EAAC,UAAzF;AAAoG,QAAA,WAAW,EAAC,UAAhH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADR,CAXpB,EAeoB;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,GAAG,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAApB,CADJ,kBAEU;AAAO,QAAA,KAAK,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,IAAI,EAAC,WAAzB;AAAqC,QAAA,QAAQ,EAAI,KAAKE,qBAAtD;AAA6E,QAAA,KAAK,EAAC,SAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,yBAFV,EAKU;AAAO,QAAA,KAAK,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,IAAI,EAAC,WAAzB;AAAsC,QAAA,QAAQ,EAAI,KAAKA,qBAAvD;AAA8E,QAAA,KAAK,EAAC,SAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,aALV,CAfpB,EA0BsB;AAAQ,QAAA,OAAO,EAAI,KAAKE,YAAxB;AAAsC,QAAA,KAAK,EAAC,sBAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBA1BtB,EA2BsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA3BtB,SA2B8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA3B9B,EA4B4B;AAAG,QAAA,KAAK,EAAC,eAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0B,KAAKK,KAAL,CAAWU,aAArC,CA5B5B,EA+BsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA/BtB,EAgCsB,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAhCtB,CAJM,CAHJ,EA4CI;AAAK,QAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA5CJ,CAFA,CAFI,CAFF;AAuED;;;;EAvJmBpC,S;;AA0JtB,SAASwC,eAAT,CAAyBd,KAAzB,EAA+B;AAC7B,SAAO;AACHe,IAAAA,IAAI,EAAEf,KAAK,CAACe;AADT,GAAP;AAGD;;AAGD,SAASC,kBAAT,CAA4BC,QAA5B,EAAqC;AACnC,SAAOnC,kBAAkB,CAAC;AAACD,IAAAA,QAAQ,EAAEA;AAAX,GAAD,EAAuBoC,QAAvB,CAAzB;AACD;;AAGD,eAAerC,OAAO,CAACkC,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CjC,MAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport cookie from 'react-cookies';\r\nimport {Redirect} from 'react-router';\r\nimport {Navbar} from './Navbar';\r\nimport {Link} from 'react-router-dom';\r\nimport './index.css';\r\nimport axios from 'axios';\r\n\r\n\r\nimport {connect} from 'react-redux';\r\nimport {authUser} from './actions/index';\r\nimport { bindActionCreators } from '../../../AppData/Local/Microsoft/TypeScript/3.3/node_modules/redux';\r\n\r\n\r\n class Signup extends Component {\r\n    //call the constructor method\r\n    constructor(props){\r\n      //Call the constrictor of Super class i.e The Component\r\n      super(props);\r\n      //maintain the state required for this component\r\n      this.state = {\r\n          username : \"\",\r\n          password : \"\",\r\n          user_type:\"\",\r\n          authFlag : false,\r\n          error_message:\"\"\r\n      }\r\n      //Bind the handlers to this class\r\n      this.usernameChangeHandler = this.usernameChangeHandler.bind(this);\r\n      this.passwordChangeHandler = this.passwordChangeHandler.bind(this);\r\n      this.usertypeChangeHandler = this.usertypeChangeHandler.bind(this);\r\n\r\n      this.submitSignup = this.submitSignup.bind(this);\r\n  }\r\n\r\n\r\n    //username change handler to update state variable with the text entered by the user\r\n    usernameChangeHandler = (e) => {\r\n      this.setState({\r\n          username : e.target.value\r\n      })\r\n  }\r\n  //password change handler to update state variable with the text entered by the user\r\n  passwordChangeHandler = (e) => {\r\n      this.setState({\r\n          password : e.target.value\r\n      })\r\n  }\r\n\r\n\r\nusertypeChangeHandler = (e) => {\r\n  this.setState({\r\n      user_type : e.target.value\r\n  })\r\n}\r\n\r\nsubmitSignup = (e) => {\r\n  var headers = new Headers();\r\n  //prevent page from refresh\r\n  e.preventDefault();\r\n  const data = {\r\n      username : this.state.username,\r\n      password : this.state.password,\r\n      user_type : this.state.user_type,\r\n  }\r\n  //set the with credentials to true\r\n  axios.defaults.withCredentials = true;\r\n  //make a post request with the user data\r\n  axios.post('http://localhost:3001/signup',data)\r\n      .then(response => {\r\n       \r\n          console.log(\"Status Code : \",response.status);\r\n          if(response.status === 200){\r\n            this.props.authUser(response.data);\r\n              this.setState({\r\n                  authFlag : true,\r\n                error_message:\"username already taken\"\r\n              })\r\n          }else{\r\n              this.setState({\r\n                  authFlag : false\r\n              })\r\n          }\r\n      });\r\n}\r\n\r\n\r\n\r\n  render() {\r\n                 //redirect based on successful login\r\n                 let redirectVar = null;\r\n                 if(cookie.load('username')){\r\n                     redirectVar = <Redirect to= \"/dashboard\"/>\r\n                 }\r\n    return (\r\n\r\n      <div>\r\n      {redirectVar}\r\n  <div class=\"container-fluid\">\r\n\r\n  <div class=\"row\">\r\n  <div class=\"col-md-4\">\r\n  </div>\r\n      <div class=\"col-md-4\">\r\n      <br/>\r\n                <br/>\r\n                <br/>\r\n<div class=\"login-box\">\r\n\r\n                  <img class=\"center\" src=\"http://localhost:3000/images/logo.png\" alt=\"sorry, no display\"/>\r\n                                          <hr/>\r\n                                          \r\n                                  <h6 class=\"center\">Sign Up</h6>\r\n                                  <br/>\r\n                    <div class=\"form-group\">\r\n                            <input onChange = {this.usernameChangeHandler} type=\"text\" class=\"form-control\" name=\"Username\" placeholder=\"Username\"/>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\">\r\n                            <input onChange = {this.passwordChangeHandler} type=\"password\" class=\"form-control\" name=\"password\" placeholder=\"Password\"/>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"gender\"><h6>User type: </h6></label>&nbsp;&nbsp;&nbsp;\r\n                              <label class=\"radio-inline\">\r\n                                <input type=\"radio\" name=\"user_type\" onChange = {this.usertypeChangeHandler} value=\"faculty\"/> Faculty&nbsp;&nbsp;&nbsp;\r\n                              </label>\r\n                              <label class=\"radio-inline\">\r\n                                <input type=\"radio\" name=\"user_type\"  onChange = {this.usertypeChangeHandler} value=\"student\"/> Student\r\n                              </label>\r\n                      </div>\r\n\r\n                          \r\n                      <button onClick = {this.submitSignup} class=\"btn btn-primary full\">Sign up</button> \r\n                      <br/>   <br/> \r\n                            <p class=\"error_message\">{this.state.error_message}</p>\r\n                          \r\n                      \r\n                      <br/>\r\n                      <Link to=\"/login\">Already have an account? Login here</Link>\r\n</div>\r\n\r\n\r\n      </div>\r\n      <div class=\"col-md-4\">\r\n\r\n\r\n\r\n\r\n\r\n      </div>\r\n\r\n  </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  </div>\r\n  </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n      auth: state.auth\r\n  }\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch){\r\n  return bindActionCreators({authUser: authUser}, dispatch);\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Signup);"]},"metadata":{},"sourceType":"module"}